parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"EVjC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sliderLine=exports.searchInput=exports.searchBtn=exports.searchBox=exports.productsBox=exports.mainTitle=exports.logo=exports.imagesSlider=exports.header=exports.closeIcon=exports.buttonArrow=exports.body=exports.basketTotal=exports.basketList=exports.basketIconPlus=exports.basketIconCheck=exports.basketDelete=exports.basketBtn=exports.basket=void 0;var e=document.querySelector("body");exports.body=e;var t=document.querySelector(".basket");exports.basket=t;var r=document.querySelector(".basket__list");exports.basketList=r;var o=document.querySelector(".basket__total");exports.basketTotal=o;var s=document.querySelector(".basket__delete");exports.basketDelete=s;var a=document.querySelector(".header");exports.header=a;var l=document.querySelector(".header__search-sm-btn");exports.searchBtn=l;var c=document.querySelector(".header__search-box");exports.searchBox=c;var p=document.querySelector(".header__search-text");exports.searchInput=p;var d=document.querySelector(".header__button");exports.basketBtn=d;var n=document.querySelector(".logo");exports.logo=n;var x=document.querySelector(".products");exports.productsBox=x;var u=document.querySelector(".title");exports.mainTitle=u;var h=document.querySelector(".button-scroll");exports.buttonArrow=h;var i=document.querySelectorAll(".flex-wrapper, .slider, .slider__img");exports.imagesSlider=i;var v=document.querySelector(".slider");exports.sliderLine=v;var b='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cart-plus" viewBox="0 0 16 16">\n<path d="M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"/>\n<path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></svg>';exports.basketIconPlus=b;var m='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-cart-check" viewBox="0 0 16 16">\n<path d="M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>\n<path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\n</svg>';exports.basketIconCheck=m;var g='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"/>\n<path fill-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"/></svg>';exports.closeIcon=g;
},{}],"aPap":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getProducts=exports.addProductCard=void 0;var c=require("./variables.js"),n=function(){return new Promise(function(c,n){fetch("https://625edd553b039517f1fdb9e1.mockapi.io/products").then(function(c){return c.json()}).then(function(n){return c(n)})})};exports.getProducts=n;var a=function(n){return n.forEach(function(n){var a=n.id,t=n.name,o=n.oldPrice,s=n.newPrice,r=n.sale,e=n.imgSrc,d='<div class="card" data-id="'.concat(a,'">\n        \n                            <div class="card__content" id="cardContent">\n                                <img src="').concat(e,'" alt="').concat(t,'" class="card__photo">\n                                <a href="#popup" class="card__fast-view" >Быстрый просмотр</a>\n                                <div class="card__bottom">\n                                    <p class="card__sale-value">').concat(r,'%</p>\n                                    <button class="card__add-in-basket-btn">').concat(c.basketIconPlus,'</button>\n                                </div>\n                            </div>\n\n                            <div class="card__prices">\n                                <p class="card__new-price">').concat(s,'р</p>\n                                <p class="card__old-price">').concat(o,'р</p>\n                            </div>\n                            <h3 class="card__title">').concat(t,'</h3>\n\n                            <div id="popup" class="popup">\n                                <div class="popup-body">\n                                    <img src="').concat(e,'" alt="').concat(t,'" class="popup-photo">\n                                    <a href="#" class="popup-close">').concat(c.closeIcon,"</a>\n                                </div>\n                            </div>\n                        </div>");c.productsBox.insertAdjacentHTML("beforeend",d)}),n};exports.addProductCard=a;
},{"./variables.js":"EVjC"}],"X86D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showProductCount=exports.initListeners=exports.initBasket=exports.createProduct=exports.addProductToBasket=void 0;var e=require("./variables.js"),t=[],s=0,n=function(){var e=JSON.parse(localStorage.getItem("products")),t=document.querySelector(".product__count");e.length?(t.innerText="".concat(e.length),t.classList.remove("hide")):t.classList.add("hide")};exports.showProductCount=n;var a=function(e){var t=JSON.parse(localStorage.getItem("products")),s=t.find(function(t){return t.id===e.id}),a=document.querySelector(".message");a.classList.add("show"),setTimeout(function(){a.classList.remove("show")},1500),s?a.innerText="Товар уже есть в корзине":(t.push(e),localStorage.setItem("products",JSON.stringify(t)),n())};exports.addProductToBasket=a;var o=function(a,o,r,c,i){var d=document.createElement("li"),l=document.createElement("img"),u=document.createElement("div"),m=document.createElement("p"),p=document.createElement("div"),f=document.createElement("p"),k=document.createElement("p"),b=document.createElement("button");return d.className="basket__item",l.className="basket__image",u.className="basket__info",m.className="basket__info-name",p.className="basket__info-costs",f.className="basket__info-new-cost",k.className="basket__info-old-cost",b.className="basket__info-delete",d.dataset.productId=a,d.append(l,u),u.append(m,p),p.append(f,k,b),l.src=i,m.innerText=o,f.innerText="".concat(r," руб."),k.innerText="".concat(c," руб."),b.innerText="Удалить",b.addEventListener("click",function(a){var o=a.target.closest(".basket__item");o.remove(),t=t.filter(function(e){return+e.id!=+o.dataset.productId}),localStorage.setItem("products",JSON.stringify(t)),s-=r,e.basketTotal.innerText=s<=0?"В корзине пока ничего нет":"Итого ".concat(s," руб."),n()}),d};exports.createProduct=o;var r=function(){e.body.style.overflow="hidden",s=0;var a=JSON.parse(localStorage.getItem("products"));n(),"products"in localStorage&&a&&a.length&&(e.basketList.innerHTML="",a.forEach(function(n){e.basketList.append(o(n.id,n.name,n.newPrice,n.oldPrice,n.imgSrc)),t.push(n),s+=n.newPrice}),e.basketTotal.innerText="Итого ".concat(s," руб.")),e.basket.classList.add("show")};exports.initBasket=r;var c=function(){e.basketBtn.addEventListener("click",function(){r()}),e.basketDelete.addEventListener("click",function(){e.basketList.innerHTML="",e.basketTotal.innerText="В корзине пока ничего нет",t=[],localStorage.setItem("products",JSON.stringify(t)),n()})};exports.initListeners=c;
},{"./variables.js":"EVjC"}],"g2Hq":[function(require,module,exports) {
"use strict";var e,t=require("./variables.js"),n=require("./add_product_card.js"),o=require("./basket.js"),s=500,r=function(){e=document.querySelector(".slider").offsetWidth,t.sliderLine.style.width=e*t.imagesSlider.length+"px",t.imagesSlider.forEach(function(t){t.style.width=e+"px",t.style.height="auto"})},a=function(){return window.pageYOffset||document.documentElement.scrollTop},d=function(e){document.querySelectorAll(".card__add-in-basket-btn").forEach(function(n){n.addEventListener("click",function(o){var s=o.target.closest(".card").dataset.id,r=e.find(function(e){return e.id===s});c.addProduct(r),n.innerHTML="".concat(t.basketIconCheck),n.className="card__add-in-basket-btn-disable"})})},c={init:function(){var e=JSON.parse(localStorage.getItem("products"));"products"in localStorage||e||localStorage.setItem("products",JSON.stringify(products));var n=document.createElement("div"),s=document.createElement("p");n.className="message",s.className="product__count",n.innerText="Товар успешно добавлен в корзину",t.body.append(n),t.basketBtn.append(s),(0,o.initListeners)(),(0,o.showProductCount)()},addProduct:function(e){(0,o.addProductToBasket)(e)}};c.init(),(0,n.getProducts)().then(function(e){return(0,n.addProductCard)(e)}).then(function(e){return d(e)}).then(function(){document.querySelectorAll(".card__fast-view").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var n=e.target.closest(".card").querySelector(".popup");n.classList.add("open"),document.body.style.overflow="hidden",t.buttonArrow.classList.add("hiddenButtonArrow"),n.querySelector(".popup-close").addEventListener("click",function(e){e.preventDefault(),n.classList.remove("open"),document.body.style.overflow="auto",t.buttonArrow.classList.remove("hiddenButtonArrow")})})})}),t.header.addEventListener("click",function(){event.target.closest(".header__search-sm-btn")||event.target.closest(".header__search-box.enabled")?(t.logo.classList.add("disabled"),t.basketBtn.classList.add("disabled"),t.searchBox.classList.add("enabled"),t.searchBtn.classList.add("disabled")):(t.logo.classList.remove("disabled"),t.basketBtn.classList.remove("disabled"),t.searchBox.classList.remove("enabled"),t.searchBtn.classList.remove("disabled")),"header__search-btn"===event.target.className&&(0,n.getProducts)().then(function(e){var o=t.searchInput.value.toLowerCase().trim(),s=e.filter(function(e){return e.name.toLowerCase().includes(o)});""!==o&&(0===s.length?(t.productsBox.innerHTML="",t.productsBox.classList.add("not-found"),t.productsBox.innerText="Товаров не найдено"):(t.productsBox.innerHTML="",t.productsBox.classList.remove("not-found"),(0,n.addProductCard)(s)),t.searchInput.value="",t.mainTitle.remove(),d(e))})}),window.addEventListener("scroll",function(){a()>s?t.buttonArrow.classList.add("scroll-up--active"):t.buttonArrow.classList.remove("scroll-up--active")}),t.buttonArrow.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("resize",r),r();
},{"./variables.js":"EVjC","./add_product_card.js":"aPap","./basket.js":"X86D"}]},{},["g2Hq"], null)